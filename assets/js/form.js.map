{"version":3,"sources":["form.js","submit.js"],"names":["$","document","ready","length","on","event","preventDefault","stopPropagation","$form","this","prefix","data","l18n","window","$submitButton","activeElement","attr","find","each","index","field","parent","hasClass","name","value","val","is","prop","action","$nonce","plugin_prefix","license_data","ajax","type","url","ajaxUrl","success","response","fadeIn","fadeOut","error","request","status","console","log","jQuery"],"mappings":"AAAA,cCAA,SAAYA,GAEXA,EAAGC,UAAWC,MAAO,WAEfF,EAAG,qBAAsBG,QAAU,GAExCH,EAAG,qBAAsBI,GAAI,SAAU,SAAUC,GAEhDA,EAAMC,iBACND,EAAME,iBAEN,IAAIC,GAAQR,EAAGS,MAGXC,EAASF,EAAMG,KAAM,UACxBC,EAAOC,OAAQH,EAAS,iBAIrBI,EAAgBd,EAAGC,SAASc,cAEhCD,GAAcE,KAAM,YAAY,EAGhC,IAAIL,KAEJH,GAAMS,KAAM,eAAgBC,KAAM,SAAUC,EAAOC,GAElD,GAAKpB,EAAGoB,GAAQC,SAASC,SAAU,UAAa,OAAO,CAEvD,IAAIC,GAAOvB,EAAGoB,GAAQJ,KAAM,QAC3BQ,EAAQxB,EAAGoB,GAAQK,KAEfzB,GAAGoB,GAAQM,GAAI,4BAEnBF,EAAUxB,EAAGoB,GAAQO,KAAM,WAAgB,EAAI,GAKhDhB,EAAMY,GAASC,IAIhBb,EAAKiB,OAAS,kBAGd,IAAIC,GAASrB,EAAMS,KAAM,8BACzBN,GAAMkB,EAAOb,KAAM,SAAaa,EAAOJ,MAEvCd,EAAKmB,cAAgBpB,EACrBC,EAAKoB,aAAenB,EAAKmB,aAEzB/B,EAAEgC,MACDC,KAAS,OACTC,IAAQtB,EAAKuB,QACbxB,KAASA,EACTyB,QAAU,SAAUC,GAEnB7B,EAAMa,SAASJ,KAAM,oBAAqBqB,SAE1C9B,EAAM+B,WAIPC,MAAQ,SAAUC,EAASC,EAAQF,GAElCG,QAAQC,IAAKJ,GAEb1B,EAAcE,KAAM,YAAY,WAShC6B","file":"form.js","sourcesContent":["'use strict';\n\n(function ($) {\n\n\t$(document).ready(function () {\n\n\t\tif ($('.rbp-support-form').length <= 0) return;\n\n\t\t$('.rbp-support-form').on('submit', function (event) {\n\n\t\t\tevent.preventDefault(); // Don't submit via PHP\n\t\t\tevent.stopPropagation(); // Don't let this get called 17 times if more than one instance of the script is active\n\n\t\t\tvar $form = $(this);\n\n\t\t\t// Grab the correct data based on Prefix. This is helpful if for some reason, multiple instances of this script are active at once\n\t\t\tvar prefix = $form.data('prefix'),\n\t\t\t    l18n = window[prefix + '_support_form'];\n\n\t\t\t// This captures the Submit button\n\t\t\t// activeElement ensures it is the correct one in the event more Submit Buttons get added for some reason\n\t\t\tvar $submitButton = $(document.activeElement);\n\n\t\t\t$submitButton.attr('disabled', true);\n\n\t\t\t// Used to construct HTML Name Attribute\n\t\t\tvar data = {};\n\n\t\t\t$form.find('.form-field').each(function (index, field) {\n\n\t\t\t\tif ($(field).parent().hasClass('hidden')) return true;\n\n\t\t\t\tvar name = $(field).attr('name'),\n\t\t\t\t    value = $(field).val();\n\n\t\t\t\tif ($(field).is('input[type=\"checkbox\"]')) {\n\n\t\t\t\t\tvalue = $(field).prop('checked') ? 1 : 0;\n\t\t\t\t}\n\n\t\t\t\t// Checkboxes don't place nice with my regex and I'm not rewriting it\n\t\t\t\tdata[name] = value;\n\t\t\t});\n\n\t\t\tdata.action = 'rbp_support_form';\n\n\t\t\t// Grab the Nonce Value\n\t\t\tvar $nonce = $form.find('input[id$=\"_support_nonce\"]');\n\t\t\tdata[$nonce.attr('name')] = $nonce.val();\n\n\t\t\tdata.plugin_prefix = prefix;\n\t\t\tdata.license_data = l18n.license_data;\n\n\t\t\t$.ajax({\n\t\t\t\t'type': 'POST',\n\t\t\t\t'url': l18n.ajaxUrl,\n\t\t\t\t'data': data,\n\t\t\t\tsuccess: function success(response) {\n\n\t\t\t\t\t$form.parent().find('.success-message').fadeIn();\n\n\t\t\t\t\t$form.fadeOut();\n\t\t\t\t},\n\t\t\t\terror: function error(request, status, _error) {\n\n\t\t\t\t\tconsole.log(_error);\n\n\t\t\t\t\t$submitButton.attr('disabled', false);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n})(jQuery);","( function( $ ) {\n\t\n\t$( document ).ready( function() {\n\t\t\n\t\tif ( $( '.rbp-support-form' ).length <= 0 ) return;\n\t\t\n\t\t$( '.rbp-support-form' ).on( 'submit', function( event ) {\n\t\t\t\n\t\t\tevent.preventDefault(); // Don't submit via PHP\n\t\t\tevent.stopPropagation(); // Don't let this get called 17 times if more than one instance of the script is active\n\t\t\t\n\t\t\tvar $form = $( this );\n\t\t\t\n\t\t\t// Grab the correct data based on Prefix. This is helpful if for some reason, multiple instances of this script are active at once\n\t\t\tvar prefix = $form.data( 'prefix' ),\n\t\t\t\tl18n = window[ prefix + '_support_form' ];\n\t\t\t\n\t\t\t// This captures the Submit button\n\t\t\t// activeElement ensures it is the correct one in the event more Submit Buttons get added for some reason\n\t\t\tvar $submitButton = $( document.activeElement );\n\t\t\t\t\n\t\t\t$submitButton.attr( 'disabled', true );\n\n\t\t\t// Used to construct HTML Name Attribute\n\t\t\tvar data = {};\n\n\t\t\t$form.find( '.form-field' ).each( function( index, field ) {\n\n\t\t\t\tif ( $( field ).parent().hasClass( 'hidden' ) ) return true;\n\n\t\t\t\tvar name = $( field ).attr( 'name' ),\n\t\t\t\t\tvalue = $( field ).val();\n\n\t\t\t\tif ( $( field ).is( 'input[type=\"checkbox\"]' ) ) {\n\n\t\t\t\t\tvalue = ( $( field ).prop( 'checked' ) ) ? 1 : 0;\n\n\t\t\t\t}\n\n\t\t\t\t// Checkboxes don't place nice with my regex and I'm not rewriting it\n\t\t\t\tdata[ name ] = value;\n\n\t\t\t} );\n\n\t\t\tdata.action = 'rbp_support_form';\n\t\t\t\n\t\t\t// Grab the Nonce Value\n\t\t\tvar $nonce = $form.find( 'input[id$=\"_support_nonce\"]' );\n\t\t\tdata[ $nonce.attr( 'name' ) ] = $nonce.val();\n\t\t\t\n\t\t\tdata.plugin_prefix = prefix;\n\t\t\tdata.license_data = l18n.license_data;\n\n\t\t\t$.ajax( {\n\t\t\t\t'type' : 'POST',\n\t\t\t\t'url' : l18n.ajaxUrl,\n\t\t\t\t'data' : data,\n\t\t\t\tsuccess : function( response ) {\n\t\t\t\t\t\n\t\t\t\t\t$form.parent().find( '.success-message' ).fadeIn();\n\t\t\t\t\t\n\t\t\t\t\t$form.fadeOut();\n\t\t\t\t\t\n\n\t\t\t\t},\n\t\t\t\terror : function( request, status, error ) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log( error );\n\n\t\t\t\t\t$submitButton.attr( 'disabled', false );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t\t\n\t\t} );\n\t\t\n\t} );\n\t\n} )( jQuery );"]}
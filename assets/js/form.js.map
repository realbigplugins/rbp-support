{"version":3,"sources":["form.js","submit.js"],"names":["$","document","ready","length","on","event","preventDefault","stopPropagation","prefix","this","data","l18n","window","$submitButton","activeElement","find","each","index","field","parent","hasClass","name","attr","value","val","is","prop","action","$nonce","plugin_prefix","license_data","ajax","type","url","ajaxUrl","success","response","console","log","error","request","status","jQuery"],"mappings":"AAAA,cCAA,SAAYA,GAEXA,EAAGC,UAAWC,MAAO,WAEfF,EAAG,qBAAsBG,QAAU,GAExCH,EAAG,qBAAsBI,GAAI,SAAU,SAAUC,GAEhDA,EAAMC,iBACND,EAAME,iBAGN,IAAIC,GAASR,EAAGS,MAAOC,KAAM,UAC5BC,EAAOC,OAAQJ,EAAS,iBAIrBK,EAAgBb,EAAGC,SAASa,eAK5BJ,IAEJV,GAAGS,MAAOM,KAAM,eAAgBC,KAAM,SAAUC,EAAOC,GAEtD,GAAKlB,EAAGkB,GAAQC,SAASC,SAAU,UAAa,OAAO,CAEvD,IAAIC,GAAOrB,EAAGkB,GAAQI,KAAM,QAC3BC,EAAQvB,EAAGkB,GAAQM,KAEfxB,GAAGkB,GAAQO,GAAI,4BAEnBF,EAAUvB,EAAGkB,GAAQQ,KAAM,WAAgB,EAAI,GAKhDhB,EAAMW,GAASE,IAIhBb,EAAKiB,OAAS,kBAGd,IAAIC,GAAS5B,EAAGS,MAAOM,KAAM,8BAC7BL,GAAMkB,EAAON,KAAM,SAAaM,EAAOJ,MAEvCd,EAAKmB,cAAgBrB,EACrBE,EAAKoB,aAAenB,EAAKmB,aAEzB9B,EAAE+B,MACDC,KAAS,OACTC,IAAQtB,EAAKuB,QACbxB,KAASA,EACTyB,QAAU,SAAUC,GAEnBC,QAAQC,IAAKF,GAEbvB,EAAcS,KAAM,YAAY,IAGjCiB,MAAQ,SAAUC,EAASC,EAAQF,GAElCF,QAAQC,IAAKC,GAEb1B,EAAcS,KAAM,YAAY,WAShCoB","file":"form.js","sourcesContent":["'use strict';\n\n(function ($) {\n\n\t$(document).ready(function () {\n\n\t\tif ($('.rbp-support-form').length <= 0) return;\n\n\t\t$('.rbp-support-form').on('submit', function (event) {\n\n\t\t\tevent.preventDefault(); // Don't submit via PHP\n\t\t\tevent.stopPropagation(); // Don't let this get called 17 times if more than one instance of the script is active\n\n\t\t\t// Grab the correct data based on Prefix. This is helpful if for some reason, multiple instances of this script are active at once\n\t\t\tvar prefix = $(this).data('prefix'),\n\t\t\t    l18n = window[prefix + '_support_form'];\n\n\t\t\t// This captures the Submit button\n\t\t\t// activeElement ensures it is the correct one in the event more Submit Buttons get added for some reason\n\t\t\tvar $submitButton = $(document.activeElement);\n\n\t\t\t//$submitButton.attr( 'disabled', true );\n\n\t\t\t// Used to construct HTML Name Attribute\n\t\t\tvar data = {};\n\n\t\t\t$(this).find('.form-field').each(function (index, field) {\n\n\t\t\t\tif ($(field).parent().hasClass('hidden')) return true;\n\n\t\t\t\tvar name = $(field).attr('name'),\n\t\t\t\t    value = $(field).val();\n\n\t\t\t\tif ($(field).is('input[type=\"checkbox\"]')) {\n\n\t\t\t\t\tvalue = $(field).prop('checked') ? 1 : 0;\n\t\t\t\t}\n\n\t\t\t\t// Checkboxes don't place nice with my regex and I'm not rewriting it\n\t\t\t\tdata[name] = value;\n\t\t\t});\n\n\t\t\tdata.action = 'rbp_support_form';\n\n\t\t\t// Grab the Nonce Value\n\t\t\tvar $nonce = $(this).find('input[id$=\"_support_nonce\"]');\n\t\t\tdata[$nonce.attr('name')] = $nonce.val();\n\n\t\t\tdata.plugin_prefix = prefix;\n\t\t\tdata.license_data = l18n.license_data;\n\n\t\t\t$.ajax({\n\t\t\t\t'type': 'POST',\n\t\t\t\t'url': l18n.ajaxUrl,\n\t\t\t\t'data': data,\n\t\t\t\tsuccess: function success(response) {\n\n\t\t\t\t\tconsole.log(response);\n\n\t\t\t\t\t$submitButton.attr('disabled', false);\n\t\t\t\t},\n\t\t\t\terror: function error(request, status, _error) {\n\n\t\t\t\t\tconsole.log(_error);\n\n\t\t\t\t\t$submitButton.attr('disabled', false);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n})(jQuery);","( function( $ ) {\n\t\n\t$( document ).ready( function() {\n\t\t\n\t\tif ( $( '.rbp-support-form' ).length <= 0 ) return;\n\t\t\n\t\t$( '.rbp-support-form' ).on( 'submit', function( event ) {\n\t\t\t\n\t\t\tevent.preventDefault(); // Don't submit via PHP\n\t\t\tevent.stopPropagation(); // Don't let this get called 17 times if more than one instance of the script is active\n\t\t\t\n\t\t\t// Grab the correct data based on Prefix. This is helpful if for some reason, multiple instances of this script are active at once\n\t\t\tvar prefix = $( this ).data( 'prefix' ),\n\t\t\t\tl18n = window[ prefix + '_support_form' ];\n\t\t\t\n\t\t\t// This captures the Submit button\n\t\t\t// activeElement ensures it is the correct one in the event more Submit Buttons get added for some reason\n\t\t\tvar $submitButton = $( document.activeElement );\n\t\t\t\t\n\t\t\t//$submitButton.attr( 'disabled', true );\n\n\t\t\t// Used to construct HTML Name Attribute\n\t\t\tvar data = {};\n\n\t\t\t$( this ).find( '.form-field' ).each( function( index, field ) {\n\n\t\t\t\tif ( $( field ).parent().hasClass( 'hidden' ) ) return true;\n\n\t\t\t\tvar name = $( field ).attr( 'name' ),\n\t\t\t\t\tvalue = $( field ).val();\n\n\t\t\t\tif ( $( field ).is( 'input[type=\"checkbox\"]' ) ) {\n\n\t\t\t\t\tvalue = ( $( field ).prop( 'checked' ) ) ? 1 : 0;\n\n\t\t\t\t}\n\n\t\t\t\t// Checkboxes don't place nice with my regex and I'm not rewriting it\n\t\t\t\tdata[ name ] = value;\n\n\t\t\t} );\n\n\t\t\tdata.action = 'rbp_support_form';\n\t\t\t\n\t\t\t// Grab the Nonce Value\n\t\t\tvar $nonce = $( this ).find( 'input[id$=\"_support_nonce\"]' );\n\t\t\tdata[ $nonce.attr( 'name' ) ] = $nonce.val();\n\t\t\t\n\t\t\tdata.plugin_prefix = prefix;\n\t\t\tdata.license_data = l18n.license_data;\n\n\t\t\t$.ajax( {\n\t\t\t\t'type' : 'POST',\n\t\t\t\t'url' : l18n.ajaxUrl,\n\t\t\t\t'data' : data,\n\t\t\t\tsuccess : function( response ) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log( response );\n\n\t\t\t\t\t$submitButton.attr( 'disabled', false );\n\n\t\t\t\t},\n\t\t\t\terror : function( request, status, error ) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log( error );\n\n\t\t\t\t\t$submitButton.attr( 'disabled', false );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t\t\n\t\t} );\n\t\t\n\t} );\n\t\n} )( jQuery );"]}